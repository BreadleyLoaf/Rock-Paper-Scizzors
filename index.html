<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scizzors</title>
</head>
<body>
    
    <script>
        function getCompChoice(){
            let choice = Math.random;
            if (choice < (1/3)){
                choice = "rock";
            } else if (choice < (2/3)){
                choice = "paper";
            } else {
                choice = "scizzors"
            }
            return(choice);
        }

        function getHumanChoice(){
            while (true){
                let choice = prompt("What is your choice? (rock/paper/scizzors)")
                choice = choice.toLowerCase();
                if (choice === "rock" || choice === "paper" || choice == "scizzors"){
                    return(choice);
                }
            }
        }
 
        function playRound(){
            let hChoice = getHumanChoice();
            let cChoice = getCompChoice();
            let win = 0;
            if (hChoice === "rock"){
                if (cChoice === "paper"){
                    win = 2;
                }
                else if (cChoice === "scizzors"){
                    win = 1;
                }
            } else if (hChoice === "paper"){
                if (cChoice === "scizzors"){
                    win = 2;
                }
                else if (cChoice === "rock"){
                    win = 1;
                }
            } else {
                if (cChoice === "rock"){
                    win = 2;
                }
                else if (cChoice === "paper"){
                    win = 1;
                }
            }
            console.log(`You played ${hChoice} and I played ${cChoice}.`);
            if (win == 1){
                console.log("you won!");
            } else if (win == 2){
                console.log("you lost!");
            } else {
                console.log("its a draw!");
            } 
            return win;
        }

        function playGame(){
            console.log("rock paper scizzors! best of 5!");
            let hScore = 0;
            let cScore = 0;
            let win = 0;
            while (hScore < 3 && cScore < 3){
                win = playRound();
                if (win == 1){
                    hScore += 1;
                } else if (win == 2){
                    cScore += 1
                } 
                console.log(`the score is ${hScore} (you) to ${cScore} (me)`)
            }
            if (cScore < hScore){
                console.log(`You won, congrats!`);
            } else {
                console.log(`You lost! suck it loser!`);
            }
        }
    
        playGame();
    </script>

</body>
</html>